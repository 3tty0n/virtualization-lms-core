wtableneg: List()
partitions: List(TTP(List(Sym(59), Sym(60), Sym(61)),List(SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Sym(50)))), SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Sym(57))))),SimpleFatLoop(Const(100),Sym(34),List(ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Sym(50))), ArrayElem(Block(Sym(57)))))))
considering TP(Sym(63),ArrayIndex(Sym(59),Const(0)))
considering TP(Sym(35),ArrayIndex(Sym(21),Sym(34)))
considering TP(Sym(37),ArrayIndex(Sym(32),Sym(34)))
considering TP(Sym(39),ArrayIndex(Sym(31),Sym(34)))
considering TP(Sym(38),ArrayIndex(Sym(28),Sym(34)))
considering TP(Sym(64),ArrayIndex(Sym(60),Const(0)))
considering TP(Sym(36),ArrayIndex(Sym(24),Sym(34)))
considering TP(Sym(65),ArrayIndex(Sym(61),Const(0)))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(59), Sym(60), Sym(61)),List(SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Sym(50)))), SimpleLoop(Const(100),Sym(34),ArrayElem(Block(Sym(57))))),SimpleFatLoop(Const(100),Sym(34),List(ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Sym(50))), ArrayElem(Block(Sym(57)))))))
no changes, we're done
wtableneg: List()
partitions: List(TTP(List(Sym(6), Sym(5), Sym(30), Sym(27), Sym(7)),List(SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Sym(2)))), SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(29),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(26),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Sym(3))))),SimpleFatLoop(Const(100),Sym(1),List(ArrayElem(Block(Sym(2))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Sym(3)))))))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(6), Sym(5), Sym(30), Sym(27), Sym(7)),List(SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Sym(2)))), SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(29),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(26),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(1),ArrayElem(Block(Sym(3))))),SimpleFatLoop(Const(100),Sym(1),List(ArrayElem(Block(Sym(2))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Sym(3)))))))
no changes, we're done
wtableneg: List()
partitions: List(TTP(List(Sym(20), Sym(13), Sym(14), Sym(15), Sym(23)),List(SimpleLoop(Const(100),Sym(19),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(9),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex)))), SimpleLoop(Const(100),Sym(9),ArrayElem(Block(Sym(10)))), SimpleLoop(Const(100),Sym(9),ArrayElem(Block(Sym(11)))), SimpleLoop(Const(100),Sym(22),ArrayElem(Block(Const(0.0))))),SimpleFatLoop(Const(100),Sym(19),List(ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex))), ArrayElem(Block(Sym(10))), ArrayElem(Block(Sym(11))), ArrayElem(Block(Const(0.0)))))))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(20), Sym(13), Sym(70), Sym(72), Sym(23)),List(SimpleLoop(Const(100),Sym(19),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(9),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex)))), SimpleLoop(Const(100),Sym(19),ArrayElem(Block(Sym(69)))), SimpleLoop(Const(100),Sym(19),ArrayElem(Block(Sym(71)))), SimpleLoop(Const(100),Sym(22),ArrayElem(Block(Const(0.0))))),SimpleFatLoop(Const(100),Sym(19),List(ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex))), ArrayElem(Block(Sym(69))), ArrayElem(Block(Sym(71))), ArrayElem(Block(Const(0.0)))))))
no changes, we're done
super.focusExactScopeFat with result changed from List(Sym(20), Sym(13), Sym(14), Sym(15), Sym(23)) to List(Sym(20), Sym(13), Sym(70), Sym(72), Sym(23))
/*****************************************
  Emitting Generated Code                  
*******************************************/
class Test extends ((Int)=>(Unit)) {
def apply(x0:Int): Unit = {
val x17 = x0 > 0
// TODO: use vars instead of tuples to return multiple values
val (x21,x25,x31,x28,x24) = if (x17) {
var x6 = new Array[Double](100)
var x5 = new Array[scala.reflect.Manifest[scala.virtualization.lms.epfl.test9.CartesianComplex]](100)
var x30 = new Array[Double](100)
var x27 = new Array[Double](100)
var x7 = new Array[Double](100)
for (x1 <- 0 until 100) {
val x2 = x1
val x3 = 0.0-x2
x6(x1) = x2
x5(x1) = manifest[scala.virtualization.lms.epfl.test9.CartesianComplex]
x30(x1) = 0.0
x27(x1) = 0.0
x7(x1) = x3
}
(x6,x5,x30,x27,x7)
} else {
var x20 = new Array[Double](100)
var x13 = new Array[scala.reflect.Manifest[scala.virtualization.lms.epfl.test9.PolarComplex]](100)
var x70 = new Array[Double](100)
var x72 = new Array[Double](100)
var x23 = new Array[Double](100)
for (x19 <- 0 until 100) {
val x69 = x19
val x71 = 0.0-x69
x20(x19) = 0.0
x13(x19) = manifest[scala.virtualization.lms.epfl.test9.PolarComplex]
x70(x19) = x69
x72(x19) = x71
x23(x19) = 0.0
}
val x14 = x70
val x15 = x72
(x20,x13,x14,x15,x23)
}
val x32 = x25.asInstanceOf[Array[scala.reflect.Manifest[_ <: Any]]]
var x59 = new Array[scala.reflect.Manifest[scala.virtualization.lms.epfl.test9.CartesianComplex]](100)
var x60 = new Array[Double](100)
var x61 = new Array[Double](100)
for (x34 <- 0 until 100) {
val x37 = x32.apply(x34)
val x41 = x37 <:< manifest[scala.virtualization.lms.epfl.test9.CartesianComplex]
// TODO: use vars instead of tuples to return multiple values
val (x50,x51) = if (x41) {
val x35 = x21.apply(x34)
val x36 = x24.apply(x34)
(x35,x36)
} else {
val x39 = x31.apply(x34)
val x38 = x28.apply(x34)
val x44 = java.lang.Math.cos(x38)
val x45 = x39*x44
val x46 = java.lang.Math.sin(x38)
val x47 = x39*x46
(x45,x47)
}
val x57 = 0.0-x51
x59(x34) = manifest[scala.virtualization.lms.epfl.test9.CartesianComplex]
x60(x34) = x50
x61(x34) = x57
}
val x63 = x59.apply(0)
val x64 = x60.apply(0)
val x65 = x61.apply(0)
val x66 = Map("clzz"->x63,"re"->x64,"im"->x65) //MyClassTag(scala.virtualization.lms.epfl.test9.CartesianComplex)
val x67 = println(x66)
x67
}
}
/*****************************************
  End of Generated Code                  
*******************************************/
wtableneg: List()
partitions: List(TTP(List(Sym(130), Sym(131), Sym(132)),List(SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Sym(123)))), SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Sym(128))))),SimpleFatLoop(Const(100),Sym(107),List(ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Sym(123))), ArrayElem(Block(Sym(128)))))))
considering TP(Sym(134),ArrayIndex(Sym(130),Const(0)))
considering TP(Sym(108),ArrayIndex(Sym(94),Sym(107)))
considering TP(Sym(110),ArrayIndex(Sym(105),Sym(107)))
considering TP(Sym(112),ArrayIndex(Sym(104),Sym(107)))
considering TP(Sym(111),ArrayIndex(Sym(101),Sym(107)))
considering TP(Sym(135),ArrayIndex(Sym(131),Const(0)))
considering TP(Sym(109),ArrayIndex(Sym(97),Sym(107)))
considering TP(Sym(136),ArrayIndex(Sym(132),Const(0)))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(130), Sym(131), Sym(132)),List(SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Sym(123)))), SimpleLoop(Const(100),Sym(107),ArrayElem(Block(Sym(128))))),SimpleFatLoop(Const(100),Sym(107),List(ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Sym(123))), ArrayElem(Block(Sym(128)))))))
no changes, we're done
wtableneg: List()
partitions: List(TTP(List(Sym(79), Sym(78), Sym(103), Sym(100), Sym(80)),List(SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Sym(75)))), SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(102),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(99),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Sym(76))))),SimpleFatLoop(Const(100),Sym(74),List(ArrayElem(Block(Sym(75))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Sym(76)))))))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(79), Sym(78), Sym(103), Sym(100), Sym(80)),List(SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Sym(75)))), SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex)))), SimpleLoop(Const(100),Sym(102),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(99),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(74),ArrayElem(Block(Sym(76))))),SimpleFatLoop(Const(100),Sym(74),List(ArrayElem(Block(Sym(75))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.CartesianComplex))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(0.0))), ArrayElem(Block(Sym(76)))))))
no changes, we're done
wtableneg: List()
partitions: List(TTP(List(Sym(93), Sym(86), Sym(87), Sym(88), Sym(96)),List(SimpleLoop(Const(100),Sym(92),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(82),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex)))), SimpleLoop(Const(100),Sym(82),ArrayElem(Block(Sym(83)))), SimpleLoop(Const(100),Sym(82),ArrayElem(Block(Sym(84)))), SimpleLoop(Const(100),Sym(95),ArrayElem(Block(Const(0.0))))),SimpleFatLoop(Const(100),Sym(92),List(ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex))), ArrayElem(Block(Sym(83))), ArrayElem(Block(Sym(84))), ArrayElem(Block(Const(0.0)))))))
try once more ...
wtableneg: List()
partitions: List(TTP(List(Sym(93), Sym(86), Sym(141), Sym(143), Sym(96)),List(SimpleLoop(Const(100),Sym(92),ArrayElem(Block(Const(0.0)))), SimpleLoop(Const(100),Sym(82),ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex)))), SimpleLoop(Const(100),Sym(92),ArrayElem(Block(Sym(140)))), SimpleLoop(Const(100),Sym(92),ArrayElem(Block(Sym(142)))), SimpleLoop(Const(100),Sym(95),ArrayElem(Block(Const(0.0))))),SimpleFatLoop(Const(100),Sym(92),List(ArrayElem(Block(Const(0.0))), ArrayElem(Block(Const(scala.virtualization.lms.epfl.test9.PolarComplex))), ArrayElem(Block(Sym(140))), ArrayElem(Block(Sym(142))), ArrayElem(Block(Const(0.0)))))))
no changes, we're done
super.focusExactScopeFat with result changed from List(Sym(93), Sym(86), Sym(87), Sym(88), Sym(96)) to List(Sym(93), Sym(86), Sym(141), Sym(143), Sym(96))
compilation: ok
Map(clzz -> scala.virtualization.lms.epfl.test9.CartesianComplex, re -> 0.0, im -> 0.0)
